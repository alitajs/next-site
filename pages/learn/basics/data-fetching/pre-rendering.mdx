import Layout from '../../../../components/learn/Layout'
import Image from '../../../../components/image'

export const meta = {
  title: '预渲染和数据获取',
  courseId: 'basics',
  lessonId: 'data-fetching',
  stepId: 'pre-rendering',
  subtitle: '预渲染'
}

在讨论[数据获取](/docs/basic-features/data-fetching)之前，我们先来讨论一下 Next.js 中最重要的概念之一：[**预渲染**](/docs/basic-features/pages#pre-rendering)。

默认情况下，Next.js 预渲染每个页面。这意味着 Next.js _为每个页面生成 HTML_，而不是让它全部由客户端 JavaScript 完成。预渲染可以使项目拥有更好的性能和搜索引擎优化。

每个生成 HTML 与该页所需的最小 JavaScript 代码相关联。当一个页面被浏览器加载时，它的 JavaScript 代码就会运行并使页面完全交互。(此过程称为**hydration**.)

### 检查是否正在进行预渲染

你可以通过以下步骤检查预渲染是否正在进行:

- 禁用浏览器中的 JavaScript (这里使如何在 [Chrome](https://developers.google.com/web/tools/chrome-devtools/javascript/disable) 浏览器中操作)
- [尝试访问此页面](https://next-learn-starter.now.sh/) (本教程的最终结果)。

你应该看到应用程序是在没有 JavaScript 的情况下渲染的。这是因为 Next.js 将应用程序预渲染为静态 HTML，允许你在不运行 JavaScript 的情况下查看应用程序 UI。

> **注意**: 你也可以在 `localhost` 上尝试上述步骤，但是如果禁用 JavaScript，CSS 将不会加载。

如果你的应用程序是一个普通的 React.js 应用程序(没有 Next.js)，就没有[预渲染](/docs/basic-features/pages#pre-rendering)功能，所以如果禁用 JavaScript，你将无法看到该应用程序。例如:

- 在浏览器中启用 JavaScript 并[查看此页面](https://create-react-app.now-examples.now.sh/)。这是一个普通的 React.js 应用程序，由[Create React App](https://create-react-app.dev/) 构建。
- 现在，禁用 JavaScript 并再次访问[相同的页面](https://create-react-app.now-examples.now.sh/)。
- 你不会再看到这个应用了 — 相反，它会说：“You need to enable JavaScript to run this app.”。这是因为应用程序没有预渲染为静态 HTML。

### 总结: 预渲染与无预渲染

这里是一个快速的图形化总结:

<Image
  shadow
  alt="Pre-rendering"
  oversize={false}
  src="/static/images/learn/data-fetching/pre-rendering.png"
  width={1386 / 2}
  height={824 / 2}
/>
<Image
  shadow
  alt="No pre-rendering"
  oversize={false}
  src="/static/images/learn/data-fetching/no-pre-rendering.png"
  width={1386 / 2}
  height={688 / 2}
/>

接下来，让我们在 Next.js 中讨论**两种形式**的预渲染。

export default ({ children }) => <Layout meta={meta}>{children}</Layout>
