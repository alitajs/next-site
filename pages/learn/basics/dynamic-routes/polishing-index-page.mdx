import Layout from '../../../../components/learn/Layout'
import Image from '../../../../components/image'

export const meta = {
  title: '动态路由',
  courseId: 'basics',
  lessonId: 'dynamic-routes',
  stepId: 'polishing-index-page',
  subtitle: '润饰首页'
}

作为最后一步，让我们更新我们的首页 (`pages/index.js`)。

特别是，我们需要添加链接到每个帖子页面。我们将使用 `Link` 组件，但这次我们需要做一些不同的事情。

若要链接到具有动态路由的页面，你需要使用 `Link` 组件的另一种用法。在我们的示例中，要链接到 `/posts/ssg-ssr` ，你需要这样写:

```jsx
<Link href="/posts/[id]" as="/posts/ssg-ssr">
  <a>...</a>
</Link>
```

如你所见,你需要将 `[id]` 用于 `href`，而将实际路径 (`ssg-ssr`) 用于 `as` 属性。

让我们实现它。首先，在 `pages/index.js` 导入 `Link` 和 `Date`:

```js
import Link from 'next/link'
import Date from '../components/date'
```

然后，在 `Home` 组件的底部附近，将 `li` 标签做如下修改:

```jsx
<li className={utilStyles.listItem} key={id}>
  <Link href="/posts/[id]" as={`/posts/${id}`}>
    <a>{title}</a>
  </Link>
  <br />
  <small className={utilStyles.lightText}>
    <Date dateString={date} />
  </small>
</li>
```

它现在应该有每篇文章的链接:

<Image
  shadow
  alt="Links"
  oversize={false}
  src="/static/images/learn/dynamic-routes/links.png"
  width={1152 / 2}
  height={472 / 2}
/>

> 如果有些东西不工作，请确保你的代码[看起来像这样](https://github.com/vercel/next-learn-starter/tree/master/api-routes-starter)。

没错！在结束本课之前，让我们在下一页中来谈谈使用动态路由的一些技巧。

export default ({ children }) => <Layout meta={meta}>{children}</Layout>
